<html xmlns:py="http://genshi.edgewall.org/"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  py:strip="">
  
  <py:def function="page_title">${c.user_dict['display_name']} - User</py:def>
  <py:def function="page_heading">
    ${h.linked_gravatar(c.user_dict['email_hash'],48)}
    <span class="username">
    ${c.user_dict['name']}
    </span>
    <py:if test="c.user_dict['fullname']">
    <span class="fullname">
      (${c.user_dict['fullname']})
    </span>
    </py:if>
  </py:def>
  
  <py:match path="primarysidebar">
    <li class="widget-container widget_text" py:if="not c.hide_welcome_message">
      <h3>Activity</h3>
      <ul>
        <li><strong>Number of edits:</strong> ${c.user_dict['number_of_edits']}</li>
        <li><strong>Number of datasets administered:</strong> ${c.user_dict['number_administered_packages']}</li>
      </ul>
    </li>
  </py:match>

  <div py:match="content">
    <div class="row">
      <div class="span-12">
        <dl class="vcard">
          <dt>Name</dt>
          <dd>${c.user_dict['fullname'] or 'No name provided'}</dd>
          <dt>Email</dt>
          <dd>
            <py:if test="c.user_dict['email']">
            ${h.mail_to(c.user_dict['email'], encode='javascript')}
            </py:if>
            No email
          </dd>
          <dt>Member since</dt>
          <dd>${c.created_formatted}</dd>
          <dt>About</dt>
          <dd>${c.about_formatted}</dd>
        <py:if test="c.is_myself">
          <!--checkpoint:is-myself-->
          <dt>API Key</dt>
          <dd>
          ${c.user_dict['apikey']}
          <br />
          <em>&ndash; Note: your API key is visible only to you!</em>
          </dd>
        </py:if>
        </dl>
      </div>
      <div class="span-11">
        <ul class="stats">
          <li>
            <strong>${c.user_dict['number_administered_packages']}</strong>
            <span>Datasets</span>
          </li>
          <li>
            <strong>${c.user_dict['number_of_edits']}</strong>
            <span>Edits</span>
          </li>
        </ul>
      </div>
    </div>
    <div class="clear"></div>

    <div class="changes">
      <h3>Recent changes</h3>
      ${revision_list_from_dict(c.user_dict['activity'])}
    </div>
  </div>

  <xi:include href="layout.html" />
</html>
